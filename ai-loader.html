<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starting AI Tutor</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0f172a; --text: #ffffff; }
        * { box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            margin: 0;
            background: var(--bg);
            color: var(--text);
            font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            text-align: center;
            padding: 24px;
            max-width: 640px;
        }
        .headline {
            font-size: clamp(1.8rem, 4vw, 3rem);
            font-weight: 800;
            letter-spacing: 0.3px;
            animation: pulse 2.2s ease-in-out infinite;
        }
        .subheading {
            margin-top: 12px;
            font-size: clamp(1rem, 2.2vw, 1.25rem);
            opacity: 0.85;
            font-weight: 500;
        }
        .timer {
            margin-top: 16px;
            font-size: 0.95rem;
            opacity: 0.8;
        }
        .open-now {
            display: inline-block;
            margin-top: 18px;
            background-color: #28a745;
            color: #ffffff;
            text-decoration: none;
            font-weight: 700;
            padding: 10px 16px;
            border-radius: 22px;
            border: 2px solid #1e7e34;
            transition: all 0.2s ease;
        }
        .open-now:hover {
            background-color: #218838;
            transform: translateY(-1px);
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.03); opacity: 0.95; }
        }
    </style>
    <script>
        (function(){
            const TARGET_URL = 'https://lin-ai-mpg5.onrender.com';
            let serverReady = false;
            let secondsLeft = 40;
            
            async function checkServer() {
                const statusEl = document.getElementById('redirectTimer');
                
                try {
                    await fetch(TARGET_URL, { 
                        mode: 'no-cors',
                        cache: 'no-store' 
                    });
                    
                    serverReady = true;
                    if (statusEl && secondsLeft <= 0) {
                        statusEl.textContent = 'Server ready! Redirecting...';
                        window.location.href = TARGET_URL;
                    }
                    
                } catch (error) {
                    setTimeout(checkServer, 2000);
                }
            }

            function startCountdown() {
                const statusEl = document.getElementById('redirectTimer');
                const interval = setInterval(() => {
                    secondsLeft -= 1;
                    if (secondsLeft > 0) {
                        if (serverReady) {
                            statusEl.textContent = `Server ready â€” opening in ${secondsLeft}s`;
                        } else {
                            statusEl.textContent = `Warming up server â€” opening in ${secondsLeft}s`;
                        }
                    } else {
                        clearInterval(interval);
                        if (serverReady) {
                            statusEl.textContent = 'Server ready! Redirecting...';
                            window.location.href = TARGET_URL;
                        } else {
                            statusEl.textContent = 'Still preparing serverâ€¦ opening when ready';
                        }
                    }
                }, 1000);
            }

            document.addEventListener('DOMContentLoaded', function(){
                checkServer();
                startCountdown();
            });
        })();
    </script>
</head>
<body>
    <div class="container">
        <div class="headline">ðŸ¤– Starting AI Tutor</div>
        <div class="subheading">Please waitâ€¦ preparing your study assistant</div>
        <div id="redirectTimer" class="timer">Warming up server â€” opening in 40s</div>
    </div>
</body>
</html>
